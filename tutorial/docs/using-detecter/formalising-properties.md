--8<-- "includes/common.md"
# Formalising Properties
---

## Choosing what to analyse

detectEr provides the keywords `#!shml with` and `#!shml monitor` to target program processes for a particular sHML specification.
The `#!shml with` keyword picks out the signature of the function that is spawned as a process, whereas the `#!shml monitor` keyword defines the property to be runtime analysed.
For example, to verify the behaviour of our calculator process against the [formula above](#__code_1), we write:

against the formula from earlier, xxxx

```shml
with
  calc_server:loop(_)
monitor
  and([Srv:Clt ! {bye,Tot} when Tot < 0])ff
```

From an [instrumentation](instrumentation.md) standpoint, `#!shml with` establishes the set of trace event corresponding to the program process it targets, thus enabling the specification to *abstract* from the events that are generated by other processes.
This helps maintain the size of sHML specifications compact whenever possible.
In using `#!shml with`, our formula need not account for superfluous trace events (*e.g.* of another calculator process) that tend to make the specification exercise tedious and error-prone.


Explain the init event that every process performs.


INSERT MODEL.


## Formalising P~1~

* Specify a simple property and explain the synthesised code, giving an example of how the events are consumed and processed.

* Probably it will be the first property in the paper or else, the second one for which we have the automaton and we can show the corresponding code generated in Erlang.

## An alternative to P~1~

* The property of request count, but instead of the `exit` event use the `init` event of the process.

## Formalising P~2~

## Formalising P~3~












